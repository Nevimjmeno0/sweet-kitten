<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Otázka</title>

<style>
    body {
        font-family: Arial, sans-serif;
        text-align: center;
        padding-top: 80px;
        background: #ffb6c1;
        overflow: hidden;
        color: #fff;
        text-shadow: 0 0 5px #000;
    }

    h1 {
        font-size: 6vw;
        max-width: 90%;
        margin: 0 auto 20px;
    }

    button {
        padding: 12px 25px;
        margin: 10px;
        font-size: 5vw;
        max-width: 80%;
        border-radius: 10px;
        border: none;
        cursor: pointer;
    }

    /* Padající srdíčka */
    .heart {
        position: fixed;
        top: -50px;
        color: red;
        animation: fall linear infinite;
        opacity: 0.9;
        pointer-events: none;
    }

    @keyframes fall {
        0% { transform: translateY(-50px) rotate(0deg); }
        100% { transform: translateY(110vh) rotate(360deg); }
    }

    /* Celoplošná animace */
    #loveScene {
        display: none;
        position: fixed;
        top: 0; left: 0;
        width: 100%; height: 100%;
        background: rgba(255,182,193,0.95);
        justify-content: center;
        align-items: center;
        flex-direction: column;
        z-index: 999;
    }

    /* Šipka */
    #backArrow {
        position: absolute;
        top: 20px;
        left: 20px;
        font-size: 8vw;
        cursor: pointer;
        color: white;
        text-shadow: 0 0 10px #ff4d88;
        user-select: none;
    }

    /* Kontejner pro kočky */
    .cats {
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 3vw; /* startovní vzdálenost */
        animation: sway 3s ease-in-out infinite;
    }

    .cat-image {
        max-width: 40vw;
        max-height: 60vh;
        position: relative;
        transition: transform 1s ease-in-out;
    }

    /* Levá kočka – otočená, vzadu */
    .cat-left {
        transform: scaleX(-1) translateX(0);
        z-index: 1;
    }

    /* Pravá kočka – vpředu */
    .cat-right {
        transform: translateX(0);
        z-index: 2;
    }

    /* KONCOVÁ POLOHA – TADY SI TO LADÍŠ */
    .cat-left.close {
        transform: scaleX(-1) translateX(-9vw);   /* doprava */
    }

    .cat-right.close {
        transform: translateX(-9vw);             /* doleva */
    }

    /* Srdce uprostřed obrazovky */
    #centerHeart {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(0.5);
        font-size: 14vw;
        opacity: 0;
        transition: opacity 1s ease-in-out, transform 1s ease-in-out;
        z-index: 20;
    }

    /* Jemné pohupování */
    @keyframes sway {
        0% { transform: translateY(0) rotate(0deg); }
        50% { transform: translateY(-10px) rotate(2deg); }
        100% { transform: translateY(0) rotate(0deg); }
    }
</style>
</head>

<body>

<h1>Budeš moje holka?</h1>

<button onclick="showWrong()" style="background:#ff4d4d;">Ne</button>
<button onclick="showLoveScene()" style="background:#4dff88;">Ano</button>

<!-- Špatná odpověď -->
<div id="modal" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.5); justify-content:center; align-items:center;">
    <div style="background:white; padding:20px; border-radius:10px; color:black;">
        <h2>Špatná odpověď</h2>
        <button onclick="closeWrong()">Zkus to znovu :)</button>
    </div>
</div>

<!-- Celoplošná animace koček -->
<div id="loveScene">
    <div id="backArrow">←</div>

    <!-- Srdce uprostřed -->
    <div id="centerHeart">❤️</div>

    <div class="cats">
        <img src="kocka.png" class="cat-image cat-left">
        <img src="kocka.png" class="cat-image cat-right">
    </div>
</div>

<script>
// Padající srdíčka
function createHeart() {
    const heart = document.createElement("div");
    heart.classList.add("heart");
    heart.innerHTML = "❤️";
    heart.style.left = Math.random() * 100 + "vw";
    const size = 40 + Math.random() * 80;
    heart.style.fontSize = size + "px";
    const duration = 3 + Math.random() * 6;
    heart.style.animationDuration = duration + "s";
    document.body.appendChild(heart);
    setTimeout(() => heart.remove(), duration * 1000 + 1000);
}
setInterval(createHeart, 250);

// Špatná odpověď
function showWrong() {
    document.getElementById("modal").style.display = "flex";
}
function closeWrong() {
    document.getElementById("modal").style.display = "none";
}

// Zobrazení animace koček
function showLoveScene() {
    document.getElementById("loveScene").style.display = "flex";

    const leftCat  = document.querySelector('.cat-left');
    const rightCat = document.querySelector('.cat-right');
    const heart    = document.getElementById("centerHeart");

    // malá prodleva, ať se to spustí plynule
    setTimeout(() => {
        leftCat.classList.add('close');
        rightCat.classList.add('close');
        heart.style.opacity = "1";
        heart.style.transform = "translate(-50%, -50%) scale(1)";
    }, 100);
}

// Zavření animace
document.getElementById("backArrow").onclick = function() {
    document.getElementById("loveScene").style.display = "none";

    const leftCat  = document.querySelector('.cat-left');
    const rightCat = document.querySelector('.cat-right');
    const heart    = document.getElementById("centerHeart");

    // reset
    leftCat.classList.remove('close');
    rightCat.classList.remove('close');
    heart.style.opacity = "0";
    heart.style.transform = "translate(-50%, -50%) scale(0.5)";
};
</script>

</body>
</html>